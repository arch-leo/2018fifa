webpackJsonp([7],{"0x5T":function(s,e){},Nofo:function(s,e){},SeZn:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("Dd8w"),r=t.n(o),n=t("nBsv"),a=t("2hMI"),i=t("4kMR"),c=t("NYxO"),u={name:"my",data:function(){return{username:"",password:"",usernameOk:!1,passwordOk:!1,usernameErr:!1,passwordErr:!1,eyeCanSee:!1}},computed:r()({},Object(c.c)(["userInfo"]),{submitFlag:function(){return this.usernameOk&&this.passwordOk},post:function(){return{username:this.username,password:this.password}}}),components:{logreg:n.a},methods:r()({},Object(c.b)(["setUserInfo","popLoadToggle","popMsgToggle"]),{eyeToggle:function(){this.eyeCanSee=!this.eyeCanSee},clear:function(s){switch(s){case"username":this.usernameOk=!1,this.usernameErr=!1,this.username="";break;case"password":this.passwordOk=!1,this.passwordErr=!1,this.password=""}},inputFocusBlur:function(s){switch(s){case"username":0===this.username.length?(this.usernameOk=!1,this.usernameErr=!1):(this.usernameOk=!0,this.usernameErr=!1);break;case"password":0===this.password.length?(this.passwordOk=!1,this.passwordErr=!1):(this.passwordOk=!0,this.passwordErr=!1)}},inputInput:function(s){switch(s){case"username":0===this.username.length?(this.usernameOk=!1,this.usernameErr=!1):(this.usernameOk=!0,this.usernameErr=!1);break;case"password":0===this.password.length?(this.passwordOk=!1,this.passwordErr=!1):(this.passwordOk=!0,this.passwordErr=!1)}},submit:function(){if(!this.submitFlag)return!1;this.doLog()},doLog:function(){this.popLoadToggle(!0),this.login()},login:function(){var s=this,e=decodeURIComponent(this.$route.query.redirect||"/user");Object(a.j)(this.post).then(function(t){s.popLoadToggle(!1);var o=t.data.state,r=t.data.desc;if(s.popLoadToggle(!1),1===o){var n={username:s.username};s.setUserInfo(n),Object(i.c)("userInfo",n),s.popMsgToggle(r),setTimeout(function(){"/user"===e?s.$router.push({path:e,query:{stat:!0}}):s.$router.push({path:e})},1500)}else s.popMsgToggle(r)}).catch(function(e){e&&console.log(e),s.popLoadToggle(!1)})},forgetPwd:function(){this.popMsgToggle("联系客服找回密码")}})},l={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("logreg",[t("h3",{attrs:{slot:"title"},slot:"title"},[s._v("登陆")]),s._v(" "),t("div",{staticClass:"logform",attrs:{slot:"cont"},slot:"cont"},[t("ul",[t("li",[t("label",{class:s.usernameOk?"valid":""},[t("i",{staticClass:"iconfont icon-user-avatar"})]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:s.username},on:{focus:function(e){s.inputFocusBlur("username")},input:[function(e){e.target.composing||(s.username=e.target.value)},function(e){s.inputInput("username")}],blur:function(e){s.inputFocusBlur("username")}}}),s._v(" "),t("span",[s.username.length>0?t("i",{staticClass:"iconfont icon-error-circle",on:{click:function(e){s.clear("username")}}}):s._e()]),s._v(" "),s.usernameErr?t("em",[s._v("用户名不能为空")]):s._e()]),s._v(" "),t("li",[t("label",{class:s.passwordOk?"valid":""},[t("i",{staticClass:"iconfont icon-lock enable"})]),s._v(" "),"checkbox"==(s.eyeCanSee?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{focus:function(e){s.inputFocusBlur("password")},input:function(e){s.inputInput("password")},blur:function(e){s.inputFocusBlur("password")},change:function(e){var t=s.password,o=e.target,r=!!o.checked;if(Array.isArray(t)){var n=s._i(t,null);o.checked?n<0&&(s.password=t.concat([null])):n>-1&&(s.password=t.slice(0,n).concat(t.slice(n+1)))}else s.password=r}}}):"radio"==(s.eyeCanSee?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{focus:function(e){s.inputFocusBlur("password")},input:function(e){s.inputInput("password")},blur:function(e){s.inputFocusBlur("password")},change:function(e){s.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:s.eyeCanSee?"text":"password"},domProps:{value:s.password},on:{focus:function(e){s.inputFocusBlur("password")},input:[function(e){e.target.composing||(s.password=e.target.value)},function(e){s.inputInput("password")}],blur:function(e){s.inputFocusBlur("password")}}}),s._v(" "),t("span",[t("i",{staticClass:"iconfont",class:s.eyeCanSee?"icon-eye-open":"icon-eye-close",on:{click:s.eyeToggle}}),s._v(" "),s.password.length>0?t("i",{staticClass:"iconfont icon-error-circle",on:{click:function(e){s.clear("password")}}}):s._e()]),s._v(" "),s.passwordErr?t("em",[s._v("密码不能为空")]):s._e()])]),s._v(" "),t("p",[t("strong",{on:{click:s.forgetPwd}},[s._v("忘记密码？")]),s._v(" "),t("router-link",{attrs:{to:"/reg"}},[s._v("立即注册")])],1),s._v(" "),t("button",{class:s.submitFlag?"":"disabled",attrs:{type:"button"},on:{click:function(e){s.submit(s.submitFlag)}}},[s._v("登陆")])])])},staticRenderFns:[]};var p=t("VU/8")(u,l,!1,function(s){t("Nofo")},"data-v-07eba7c8",null);e.default=p.exports},nBsv:function(s,e,t){"use strict";var o={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"logreg"},[t("div",{staticClass:"back-head"},[t("i",{staticClass:"iconfont icon-arrow-left",on:{click:s.goback}}),s._v(" "),s._t("title")],2),s._v(" "),s._m(0),s._v(" "),s._t("cont"),s._v(" "),s._t("popup")],2)},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"circles"},[e("span",{staticClass:"c1",staticStyle:{left:"6rem",top:"1.2rem"}}),this._v(" "),e("span",{staticClass:"c2",staticStyle:{left:"1.5rem",top:"3.8rem"}}),this._v(" "),e("span",{staticClass:"c3",staticStyle:{left:"5.5rem",top:"4.3rem"}}),this._v(" "),e("span",{staticClass:"c4",staticStyle:{left:"-0.5rem",top:"7rem"}})])}]};var r=t("VU/8")({name:"logreg",methods:{goback:function(){this.$router.go(-1)}}},o,!1,function(s){t("0x5T")},"data-v-54d89017",null);e.a=r.exports}});