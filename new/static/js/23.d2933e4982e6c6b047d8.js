webpackJsonp([23],{PiWw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),o=a("2hMI"),r=a("4kMR"),p=a("EiM3"),c={name:"my",data:function(){return{realname:"",realnameOk:!1,bankpwd:"",bankpwdOk:!1,pconfirm:"",pconfirmOk:!1}},computed:{submitFlag:function(){return this.realnameOk&&this.bankpwdOk&&this.pconfirmOk},post:function(){return{truename:this.realname,cashpassword:this.bankpwd}}},methods:s()({},Object(i.b)(["setUserInfo","popLoadToggle","popMsgToggle","popAffirmToggle"]),{goback:function(){this.$router.go(-1)},submit:function(){if(!this.submitFlag)return this.popMsgToggle("请先完善绑定信息"),!1;this.setCash()},setCash:function(){var t=this;this.popLoadToggle(!0),Object(o.x)(this.post).then(function(e){var a=e.data.state,n=e.data.desc;if(t.popLoadToggle(!1),0===a)Object(r.a)("userInfo"),t.setUserInfo(null),t.popAffirmToggle({flag:!0,title:"登录已过期,请重新登录",path:"/log",redirect:t.$route.fullPath});else if(1===a){var s=Object(r.b)("userInfo");s.issetcashpassword=!0,s.truename=t.realname,t.setUserInfo(s),Object(r.c)("userInfo",s),t.popAffirmToggle({flag:!0,title:"资金密码设置成功，火速绑定银行卡",path:"/bindbank"})}else t.popMsgToggle(n)}).catch(function(e){t.popLoadToggle(!1)})},inputInput:function(t){switch(t){case"realname":0===this.realname.length?this.realnameOk=!1:p.d.test(this.username)?this.realnameOk=!0:this.realnameOk=!1;break;case"bankpwd":0===this.bankpwd.length?this.bankpwdOk=!1:p.a.test(this.bankpwd)?this.bankpwdOk=!0:this.bankpwdOk=!1;break;case"pconfirm":0===this.pconfirm.length?this.pconfirmOk=!1:p.a.test(this.pconfirm)?this.pconfirmOk=!0:this.pconfirmOk=!1}}})},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userbind"},[a("div",{staticClass:"back-head"},[a("i",{staticClass:"iconfont icon-arrow-left",on:{click:t.goback}}),t._v(" "),a("h3",[t._v("设置资金密码")])]),t._v(" "),a("div",[a("h4",[t._v("为您账户安全，真实姓名要与绑定账户姓名一致")]),t._v(" "),a("div",{staticClass:"form-area"},[a("div",{staticClass:"form-item"},[a("div",[a("span",[t._v("真实姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.realname,expression:"realname"}],attrs:{type:"text",placeholder:"请输入真实姓名"},domProps:{value:t.realname},on:{input:[function(e){e.target.composing||(t.realname=e.target.value)},function(e){t.inputInput("realname")}]}})])]),t._v(" "),a("div",{staticClass:"form-item"},[a("div",[a("span",[t._v("资金密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bankpwd,expression:"bankpwd"}],attrs:{type:"password",placeholder:"请输入6位数的数字密码"},domProps:{value:t.bankpwd},on:{input:[function(e){e.target.composing||(t.bankpwd=e.target.value)},function(e){t.inputInput("bankpwd")}]}})])]),t._v(" "),a("div",{staticClass:"form-item"},[a("div",[a("span",[t._v("确认资金密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pconfirm,expression:"pconfirm"}],attrs:{type:"password",placeholder:"请再次输入6位数的数字密码"},domProps:{value:t.pconfirm},on:{input:[function(e){e.target.composing||(t.pconfirm=e.target.value)},function(e){t.inputInput("pconfirm")}]}})])])]),t._v(" "),t._m(0),t._v(" "),a("button",{class:t.submitFlag?"":"disabled",attrs:{type:"button"},on:{click:t.submit}},[t._v("确认")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("密码规则：资金密码须为"),e("span",{staticClass:"color-red"},[this._v("6位数字")])])}]};var u=a("VU/8")(c,l,!1,function(t){a("XDgf")},"data-v-4bb82ca4",null);e.default=u.exports},XDgf:function(t,e){}});