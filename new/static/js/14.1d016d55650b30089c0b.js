webpackJsonp([14],{"B0v/":function(t,n){},hNWb:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i("Dd8w"),a=i.n(o),s=i("4kMR"),c=i("NYxO"),r=i("2hMI"),e={name:"my",data:function(){return{keyboardFlag:!1,withdrawVal:[],withdrawNum:0,withdrawStr:"0",confirmFlag:!1,confirmVal:["","","","","",""],confirmCount:0,confirmStr:"",confirmOk:!1,panelFlag:!1}},computed:a()({},Object(c.c)(["userInfo"]),{post:function(){return{cashpassword:this.confirmStr,amount:this.withdrawStr,type:this.userInfo.accounttype}}}),methods:a()({},Object(c.b)(["popMsgToggle","popLoadToggle"]),{goback:function(){this.$router.go(-1)},panelToggle:function(){this.keyboardFlag=!0},panelConfirm:function(){this.keyboardFlag=!1},panelClose:function(){this.keyboardFlag=!1},panelDel:function(){if(this.confirmFlag){this.confirmVal.splice(this.confirmCount,1,"");var t=this.confirmVal;if(this.confirmStr=t.join(""),this.confirmOk=!1,0===this.confirmCount)return this.panelFlag=!1,!1;this.panelFlag=!0,this.confirmCount--}else{if(!this.withdrawVal.pop())return!1;var n=this.withdrawVal;this.withdrawStr=n.join(""),this.withdrawNum=Number(n.join(""))}},panelInput:function(t){if(this.confirmFlag){if("10"===t)return!1;this.panelFlag&&(this.confirmCount++,this.panelFlag=!1),this.confirmVal.splice(this.confirmCount,1,t);var n=this.confirmVal;if(this.confirmStr=n.join(""),5===this.confirmCount)return this.confirmOk=!0,!1;this.confirmCount++}else{if("10"===t){if(t=".",!(this.withdrawVal.indexOf(".")<0))return!1;this.withdrawVal.push(t)}else this.withdrawVal.push(t);var i=this.withdrawVal;this.withdrawStr=i.join(""),this.withdrawNum=Number(i.join(""))}},withdraw:function(){0===this.withdrawNum?(this.popMsgToggle("请先输入兑换金额"),this.keyboardFlag=!1):this.withdrawNum<100?(this.popMsgToggle("兑换金额不能少于100"),this.keyboardFlag=!1):this.withdrawNum>Number(this.userInfo.accountbalance)?(this.popMsgToggle("兑换金额不能超过余额"),this.keyboardFlag=!1):this.confirmFlag=!0},submit:function(){if(!0!==this.confirmOk)return!1;this.popLoadToggle(!0),this.doCash()},confirmClose:function(){this.confirmFlag=!1,this.confirmVal=["","","","","",""],this.confirmCount=0,this.confirmStr="",this.confirmOk=!1,this.panelFlag=!1},doCash:function(){var t=this;Object(r.d)(this.post).then(function(n){var i=n.data.state,o=n.data.desc;t.popLoadToggle(!1),0===i?(Object(s.a)("userInfo"),t.setUserInfo(null),t.popAffirmToggle({flag:!0,title:"登录已过期,请重新登录",path:"/log",redirect:t.$route.fullPath})):1===i?(t.popMsgToggle("兑换申请成功，预计30s内到账"),setTimeout(function(){t.$router.push({path:"/userlist/mywithdraw"})},1500)):t.popMsgToggle(o)}).catch(function(n){t.popLoadToggle(!1)})}})},l={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"withdraw"},[i("div",{staticClass:"back-head"},[i("i",{staticClass:"iconfont icon-arrow-left",on:{click:t.goback}}),t._v(" "),i("h3",[t._v("兑换")])]),t._v(" "),i("div",{staticClass:"withdraw-cont"},[i("h4",[t._v(t._s(t.userInfo.username)+"余额："),i("i",{staticClass:"color-red"},[t._v(t._s(t.userInfo.accountbalance))])]),t._v(" "),i("p",[i("img",{attrs:{src:t.userInfo.bankimg}}),t._v(" "),i("span",[t._v(t._s(t.userInfo.bankname))]),t._v(" "),i("span",{staticClass:"gray"},[t._v(t._s(t.userInfo.accountnumber))])]),t._v(" "),i("div",[i("h5",[t._v("兑换金额")]),t._v(" "),i("h6",{on:{click:t.panelToggle}},[i("em",[t._v("￥")]),t._v(" "),i("b",{class:t.withdrawNum>0?"":"disabled"},[t._v(t._s(t.withdrawNum>0?t.withdrawStr:"0.00"))])]),t._v(" "),i("strong",[t._v("可兑换金额："+t._s(t.userInfo.accountbalance))])]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.withdraw}},[t._v("兑换")]),t._v(" "),i("h3",[t._v("说明：单笔提款金额最低为100。")])]),t._v(" "),i("div",{staticClass:"panel table",class:t.keyboardFlag?"show":""},[i("table",[i("tr",[i("td",{on:{click:function(n){t.panelInput("1")}}},[t._v("1")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("2")}}},[t._v("2")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("3")}}},[t._v("3")]),t._v(" "),i("td",{staticClass:"backspace",attrs:{rowspan:"2"},on:{click:t.panelDel}})]),t._v(" "),i("tr",[i("td",{on:{click:function(n){t.panelInput("4")}}},[t._v("4")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("5")}}},[t._v("5")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("6")}}},[t._v("6")])]),t._v(" "),i("tr",[i("td",{on:{click:function(n){t.panelInput("7")}}},[t._v("7")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("8")}}},[t._v("8")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("9")}}},[t._v("9")]),t._v(" "),i("td",{staticClass:"confirm",attrs:{rowspan:"2"},on:{click:t.panelConfirm}},[t._v("确认")])]),t._v(" "),i("tr",[i("td",{on:{click:function(n){t.panelInput("10")}}},[t._v(".")]),t._v(" "),i("td",{on:{click:function(n){t.panelInput("0")}}},[t._v("0")]),t._v(" "),i("td",{staticClass:"close",on:{click:t.panelClose}})])])]),t._v(" "),i("div",{staticClass:"confirmbox",class:t.confirmFlag?"show":""},[i("div",[i("h4",[t._v("请输入资金密码"),i("i",{on:{click:t.confirmClose}})]),t._v(" "),i("p",[i("em",[t._v(t._s(t.userInfo.bankname))]),t._v(" ("+t._s(t.userInfo.accountnumber)+")")]),t._v(" "),i("h5",[t._v("￥"+t._s(t.withdrawStr))]),t._v(" "),i("div",{on:{click:t.panelToggle}},t._l(t.confirmVal,function(n){return i("span",{key:n.id},[t._v(t._s(""===n?"":"•"))])})),t._v(" "),i("button",{class:t.confirmOk?"":"disabled",attrs:{type:"button"},on:{click:t.submit}},[t._v("确认兑换")])])])])},staticRenderFns:[]};var u=i("VU/8")(e,l,!1,function(t){i("B0v/")},"data-v-cb3bc6de",null);n.default=u.exports}});